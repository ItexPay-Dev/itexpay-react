import*as e from"react";import{useState as n,useRef as r,useEffect as t}from"react";var o=function(){var n=e.useState(0),r=n[0],t=n[1];return e.createElement("div",null,e.createElement("button",{onClick:function(){return t(r+1)}},"This is a button with a counter"),e.createElement("h1",null,r))},a=function(o,a){var c=a.onCompleted,i=a.onClose,u=a.onError,l=function(){var e=n(!1),o=e[0],a=e[1],c=n(!1),i=c[0],u=c[1],l="https://checkout.itexpay.com/v1.0.0/itexpay-inline-staging-min.js",m=r();return t((function(){return fetch(l,{mode:"no-cors"}).then((function(){a(!0);var e=document.createElement("script");e.src=l,e.id="ITEXPAY_SCRIPT",document.body.append(e),m.current=e})).catch((function(){u(!0)})),function(){var e;return null===(e=m.current)||void 0===e?void 0:e.remove()}}),[]),{loaded:o,error:i}}(),m=l.loaded;if(l.error)throw new Error("Unable to load ITEXPay script");return{handlePay:e.useCallback((function(){new window.ItexPayNS.ItexPay({api_key:o.api_key,first_name:o.first_name,last_name:o.last_name,phone_number:o.phone_number,email:o.email,amount:o.amount,reference:o.reference,currency:o.currency,onCompleted:c,onClose:i,onError:u}).init()}),[]),loaded:m}};export{o as ItexPayButton,a as useItexPay};
//# sourceMappingURL=index.js.map
