"use strict";var e=require("react");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);exports.ItexPayButton=function(){var e=n.useState(0),t=e[0],r=e[1];return n.createElement("div",null,n.createElement("button",{onClick:function(){return r(t+1)}},"This is a button with a counter"),n.createElement("h1",null,t))},exports.useItexPay=function(t,r){var o=r.onCompleted,a=r.onClose,u=r.onError,c=function(){var t=e.useState(!1),n=t[0],r=t[1],o=e.useState(!1),a=o[0],u=o[1],c="https://checkout.itexpay.com/v1.0.0/itexpay-inline-staging-min.js",i=e.useRef();return e.useEffect((function(){return fetch(c,{mode:"no-cors"}).then((function(){r(!0);var e=document.createElement("script");e.src=c,e.id="ITEXPAY_SCRIPT",document.body.append(e),i.current=e})).catch((function(){u(!0)})),function(){var e;return null===(e=i.current)||void 0===e?void 0:e.remove()}}),[]),{loaded:n,error:a}}(),i=c.loaded;if(c.error)throw new Error("Unable to load ITEXPay script");return{handlePay:n.useCallback((function(){new window.ItexPayNS.ItexPay({api_key:t.api_key,first_name:t.first_name,last_name:t.last_name,phone_number:t.phone_number,email:t.email,amount:t.amount,reference:t.reference,currency:t.currency,onCompleted:o,onClose:a,onError:u}).init()}),[]),loaded:i}};
//# sourceMappingURL=index.js.map
